<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Number Guessing Game</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#64ffda;
      --muted:#94a3b8;
      --win:#10b981;
      --lose:#ef4444;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071027 0%, #08132a 100%);color:#e6eef6}
    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      box-sizing:border-box;
    }
    .card{
      width:100%;
      max-width:520px;
      background:linear-gradient(180deg,var(--card), rgba(255,255,255,0.02));
      border-radius:12px;
      padding:24px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.03);
    }
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted);font-size:14px}
    .controls{display:flex;gap:8px;margin-bottom:12px}
    input[type="number"]{
      flex:1;
      padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);
      background:var(--glass);color:inherit;font-size:16px;outline:none;
      -moz-appearance:textfield;
    }
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button{ -webkit-appearance:none;margin:0; }
    button{
      background:linear-gradient(180deg,var(--accent), #45d6b1);
      color:#02221a;border:none;padding:10px 14px;border-radius:8px;font-weight:600;
      cursor:pointer;box-shadow: 0 6px 18px rgba(100,255,218,0.12);
    }
    button.secondary{
      background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600;
    }
    .msg{min-height:44px;padding:12px;border-radius:8px;background:transparent;color:var(--muted);display:flex;align-items:center;gap:10px;font-size:15px}
    .msg.success{color:var(--win);background:rgba(16,185,129,0.06);border:1px solid rgba(16,185,129,0.08)}
    .msg.error{color:var(--lose);background:rgba(239,68,68,0.06);border:1px solid rgba(239,68,68,0.08)}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:16px;color:var(--muted);font-size:13px}
    .history{margin-top:12px;display:flex;flex-wrap:wrap;gap:8px}
    .chip{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.02);font-size:13px}
    footer{margin-top:18px;color:var(--muted);font-size:12px;text-align:right}
    @media (max-width:420px){
      .controls{flex-direction:column}
      button{width:100%}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <section class="card" aria-labelledby="title">
      <h1 id="title">Guess the Number ðŸŽ¯</h1>
      <p class="lead">I'm thinking of a number between <strong>1</strong> and <strong>100</strong>. Can you guess it?</p>

      <div class="controls" role="group" aria-label="Guess controls">
        <label for="guess" class="visually-hidden">Enter guess</label>
        <input id="guess" type="number" inputmode="numeric" min="1" max="100" placeholder="Enter a number (1â€“100)" aria-label="Your guess" />
        <button id="submit">Guess</button>
        <button id="reset" class="secondary" title="Start a new game">Reset</button>
      </div>

      <div id="message" class="msg" role="status" aria-live="polite">Make your first guess!</div>

      <div class="meta" aria-hidden="false">
        <div>Attempts: <strong id="attempts">0</strong></div>
        <div>Range: <strong id="range">1â€“100</strong></div>
      </div>

      <div class="history" aria-label="Previous guesses" id="history" title="Previous guesses"></div>

      <footer>Tip: press Enter to submit. Good luck!</footer>
    </section>
  </div>

  <script>
    (function(){
      // Game state
      const MIN = 1, MAX = 100;
      let secret = pickRandom(MIN, MAX);
      let attempts = 0;
      let finished = false;
      const guessInput = document.getElementById('guess');
      const submitBtn = document.getElementById('submit');
      const resetBtn = document.getElementById('reset');
      const msgEl = document.getElementById('message');
      const attemptsEl = document.getElementById('attempts');
      const historyEl = document.getElementById('history');
      const rangeEl = document.getElementById('range');

      rangeEl.textContent = `${MIN}â€“${MAX}`;

      // Helpers
      function pickRandom(min, max){
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      function sanitizeGuess(v){
        if (v === '' || v === null) return null;
        const n = Number(v);
        if (!Number.isFinite(n) || Number.isNaN(n)) return null;
        return Math.trunc(n);
      }
      function setMessage(text, type){
        msgEl.className = 'msg';
        if (type === 'success') msgEl.classList.add('success');
        else if (type === 'error') msgEl.classList.add('error');
        msgEl.textContent = text;
      }
      function addHistory(guess, result){
        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.setAttribute('aria-label', `Guess ${guess}: ${result}`);
        chip.textContent = `${guess} â€” ${result}`;
        historyEl.prepend(chip);
      }
      function endGame(win){
        finished = true;
        if (win) setMessage(`ðŸŽ‰ Correct â€” ${secret} is the number! Attempts: ${attempts}`, 'success');
        else setMessage(`Game over â€” the number was ${secret}.`, 'error');
        submitBtn.textContent = 'Play again';
        submitBtn.focus();
      }
      function resetGame(){
        secret = pickRandom(MIN, MAX);
        attempts = 0;
        finished = false;
        attemptsEl.textContent = attempts;
        historyEl.innerHTML = '';
        guessInput.value = '';
        submitBtn.textContent = 'Guess';
        setMessage('New game â€” make your first guess!');
      }

      // Event handlers
      function makeGuess(){
        if (finished){
          // start new game on click if finished
          resetGame();
          return;
        }
        const raw = sanitizeGuess(guessInput.value);
        if (raw === null){
          setMessage('Please enter a valid number between 1 and 100.', 'error');
          return;
        }
        if (raw < MIN || raw > MAX){
          setMessage(`Out of range â€” enter a number between ${MIN} and ${MAX}.`, 'error');
          return;
        }
        attempts++;
        attemptsEl.textContent = attempts;

        if (raw === secret){
          addHistory(raw, 'Correct');
          endGame(true);
          return;
        }
        const result = raw < secret ? 'Too low' : 'Too high';
        addHistory(raw, result);
        setMessage(`${result}! Try again.`, 'error');
        guessInput.select();
      }

      submitBtn.addEventListener('click', makeGuess);
      resetBtn.addEventListener('click', resetGame);
      guessInput.addEventListener('keydown', function(e){
        if (e.key === 'Enter') {
          e.preventDefault();
          makeGuess();
        }
      });

      // Initialize message
      setMessage('Make your first guess!');
      // expose for debugging in console (optional)
      window.__guessGame = {reset: resetGame, reveal: ()=>secret};
    })();
  </script>
</body>
</html>